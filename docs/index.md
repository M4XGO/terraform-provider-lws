---
page_title: "lws Provider"
subcategory: ""
description: |-
  
---

# lws Provider

A Terraform provider for managing DNS records with LWS (French hosting provider). 

## Key Features

- ‚úÖ **Robust DNS Record Management** - Create, update, delete DNS records with automatic validation
- ‚úÖ **ID Drift Detection** - Automatically recovers when LWS API changes record IDs
- ‚úÖ **Enhanced Error Handling** - Detailed error messages and graceful failure recovery
- ‚úÖ **Debug Support** - Comprehensive logging for troubleshooting
- ‚úÖ **Import Support** - Import existing DNS records into Terraform state

## Example Usage

```terraform
terraform {
  required_providers {
    lws = {
      source  = "M4XGO/lws"
      version = "~> 0.1.0"
    }
  }
}

# Configure the LWS Provider
provider "lws" {
  api_key    = var.lws_api_key
  api_secret = var.lws_api_secret
  
  # Optional: Custom API endpoint
  # endpoint = "https://api.lws.fr"
}

# Example: Manage DNS records
resource "lws_dns_record" "www" {
  zone  = "example.com"
  name  = "www"
  type  = "A"
  value = "192.168.1.1"
  ttl   = 3600
}

resource "lws_dns_record" "api" {
  zone  = "example.com"
  name  = "api"
  type  = "CNAME"
  value = "api-server.example.com"
  ttl   = 300
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `api_key` (String, Sensitive) LWS API key. Can also be set with the LWS_API_KEY environment variable.
- `base_url` (String) LWS API base URL. Defaults to https://api.lws.net/v1. Can also be set with the LWS_BASE_URL environment variable.
- `login` (String) LWS login ID. Can also be set with the LWS_LOGIN environment variable.
- `test_mode` (Boolean) Enable test mode for LWS API. Defaults to false. Can also be set with the LWS_TEST_MODE environment variable.

## Authentication

The LWS provider requires authentication credentials to manage DNS records. Configure your credentials using one of the following methods:

### Environment Variables

```shell
export LWS_API_KEY="your-api-key"
export LWS_API_SECRET="your-api-secret"
```

### Provider Configuration

```hcl
provider "lws" {
  api_key    = "your-api-key"
  api_secret = "your-api-secret"
  # Optional: specify a different API endpoint
  # endpoint = "https://api.lws.fr"
}
```

## Debugging & Troubleshooting

### Enable Debug Logging

For detailed troubleshooting, enable Terraform debug logging:

```bash
export TF_LOG=DEBUG
terraform plan
terraform apply
```

Debug logs will show:
- üîç API request/response details
- üéØ Record ID tracking and drift detection
- ‚ö†Ô∏è Validation errors and warnings
- üìä State management operations

### Common Issues

#### Record ID Changes
The LWS API may change record IDs during updates. The provider automatically detects this and updates the Terraform state - no manual intervention required.

#### Validation Errors
The provider validates all required fields before making API calls:
- `name`: Cannot be empty or whitespace-only
- `type`: Must be a valid DNS record type
- `value`: Cannot be empty or whitespace-only  
- `zone`: Must be a valid domain name

#### Import Existing Records
You can import existing DNS records:
```bash
terraform import lws_dns_record.example 12345
```

## API Documentation

For more information about the LWS API, visit the [official API documentation](https://aide.lws.fr/a/268-api-dns). 